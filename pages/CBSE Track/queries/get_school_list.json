{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "get_school_list",
    "datasource": {
      "name": "lb_web_sales",
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "lb_web_sales",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "CBSE Track",
    "actionConfiguration": {
      "timeoutInMillisecond": 60000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "with last_added_school_contact as\n\t(select a1.sales_school_id,\n\t\t\tmax(created_at)as last_added_sc_contact\n\t\tfrom\n\t\t\t(select *\n\t\t\t\tfrom cbse.sales_school_contact_info\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tsales_school_contact_info.id)a1\n\t\tgroup by a1.sales_school_id),\n\tlast_added_school_email as\n\t(select a1.sales_school_id,\n\t\t\tmax(created_at)as last_added_email\n\t\tfrom\n\t\t\t(select *\n\t\t\t\tfrom cbse.sales_school_email_info\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tsales_school_email_info.id)a1\n\t\tgroup by a1.sales_school_id),\n\tlast_added_school_fee as\n\t(select a1.sales_school_id,\n\t\t\tmax(created_at)as last_added_fee\n\t\tfrom\n\t\t\t(select *\n\t\t\t\tfrom cbse.sales_school_fee\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tsales_school_fee.id)a1\n\t\tgroup by a1.sales_school_id),\n\tlast_added_school_strength as\n\t(select a1.sales_school_id,\n\t\t\tmax(created_at)as last_added_strength\n\t\tfrom\n\t\t\t(select sales_school_id,\n\t\t\t\t\tcreated_at\n\t\t\t\tfrom cbse.sales_school_strength\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tcreated_at)a1\n\t\tgroup by a1.sales_school_id),\n\tlast_added_school_other_info as\n\t(select a1.sales_school_id,\n\t\t\tmax(created_at)as last_added_other_info\n\t\tfrom\n\t\t\t(select sales_school_id,\n\t\t\t\t\tcreated_at\n\t\t\t\tfrom cbse.sales_school_other_info\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tcreated_at)a1\n\t\tgroup by a1.sales_school_id),\n\tprincipal_id as\n\t(select a1.sales_school_id,\n\t\t\tmax(a1.principal_id)as principal_id\n\t\tfrom\n\t\t\t(select *\n\t\t\t\tfrom cbse.sales_principal_info\n\t\t\t\tgroup by sales_school_id,\n\t\t\t\t\tsales_principal_info.principal_id)a1\n\t\tgroup by a1.sales_school_id)\nselect ssd.*,\n\tssci.contact_number as school_contact_number,\n-- \tssci.status as school_contact_number_status,\n\tssei.email as school_mail,\n-- \tssei.status as school_email_status,\n\tssoi.academic_partners,\n\tssoi.quality_of_website,\n\tssoi.tentative_school_area,\n\tssoi.general_school_feedback,\n\tssoi.comment,\n\tssf.class_5_fee,\n\tssf.class_6_fee,\n\tssf.class_7_fee,\n\tssf.class_8_fee,\n\tssf.class_9_fee,\n\tssf.class_10_fee,\n\tssf.class_11_fee,\n\tssf.class_12_fee,\n\tsss.tentative_school_strength,\n\tssf.updated_year,\n\tsss.class_5_strength,\n\tsss.class_6_strength,\n\tsss.class_7_strength,\n\tsss.class_8_strength,\n\tsss.class_9_strength,\n\tsss.class_10_strength,\n\tsss.class_11_strength,\n\tsss.class_12_strength,\n\tspi.principal_id,\n\tspi.initial,\n\tspi.prefix,\n\tspi.name,\n\tspi.qualification,\n\tspi.gender,\n-- \tspi.status as principal_status,\n\tspei.email as principal_email,\n-- \tspei.status as principal_email_status,\n\tspci.contact_number as principal_contact_number\n-- \tspci.status as principal_contact_number_status\nfrom cbse.sales_school_details ssd\nleft join last_added_school_contact lasc on ssd.sales_school_id = lasc.sales_school_id\nleft join cbse.sales_school_contact_info ssci on ssd.sales_school_id = ssci.sales_school_id\nand lasc.last_added_sc_contact = ssci.created_at\nleft join last_added_school_email lase on ssd.sales_school_id = lase.sales_school_id\nleft join cbse.sales_school_email_info ssei on ssd.sales_school_id = ssei.sales_school_id\nand lase.last_added_email = ssei.created_at\nleft join last_added_school_fee lasf on ssd.sales_school_id = lasf.sales_school_id\nleft join cbse.sales_school_fee ssf on ssd.sales_school_id = ssf.sales_school_id\nand lasf.last_added_fee = ssf.created_at\nleft join last_added_school_strength lass on ssd.sales_school_id = lass.sales_school_id\nleft join cbse.sales_school_strength sss on ssd.sales_school_id = sss.sales_school_id\nand lass.last_added_strength = sss.created_at\nleft join last_added_school_other_info lasoi on ssd.sales_school_id = lasoi.sales_school_id\nleft join cbse.sales_school_other_info ssoi on ssd.sales_school_id = ssoi.sales_school_id\nand lasoi.last_added_other_info = ssoi.created_at\nleft join principal_id pi on ssd.sales_school_id = pi.sales_school_id\nleft join cbse.sales_principal_info spi on ssd.sales_school_id = spi.sales_school_id\nand pi.principal_id = spi.principal_id\nleft join cbse.sales_principal_contact_info spci on pi.principal_id = spci.principal_id\nleft join cbse.sales_principal_email_info spei on pi.principal_id = spei.principal_id where ssd.allocated_to = {{Select9.selectedOptionValue}}\norder by district asc",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ]
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [
      "Select9.selectedOptionValue"
    ],
    "userSetOnLoad": true,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "CBSE Track_get_school_list",
  "deleted": false,
  "gitSyncId": "62f1f707b2f8027edfbfef76_63a4538fbc0e8334c7298934"
}