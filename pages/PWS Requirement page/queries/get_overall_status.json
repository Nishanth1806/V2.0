{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "get_overall_status",
    "datasource": {
      "name": "lb_web_1",
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "lb_web_1",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "PWS Requirement page",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "with percentage as(with tdm as (select chapter_tag, count(cd_id) as tdm_cdid from  public.topic_detail_master\ngroup by chapter_tag\nORDER BY chapter_tag ASC )\n\nselect * ,ctt_cdid*100/tdm_cdid as percentage_completed from(select a1.chapter_tag,a1.section_id,count(a1.cd_id)as ctt_cdid ,tdm.tdm_cdid from (select * from public.course_theory_track\ngroup by section_id,chapter_tag,id\norder by section_id,chapter_tag,cd_id)a1\n\t\t\t\t\t\t\t\t\t\t\t\t   \njoin tdm \non a1.chapter_tag = tdm.chapter_tag\n\t\t\t\t\t\t\t\t\t\t\t\t   \ngroup by a1.chapter_tag,a1.section_id,tdm.tdm_cdid\norder by a1.section_id,a1.chapter_tag)a2)\n\n\n\n\nselect lsd.school_name,sci.std,sm.section,cdm.chapter_tag,cdm.chapter_name,percentage_completed,ch.status as theory_status,case\nwhen ch.worksheet_status = 2::character varying then 'Printed'\nwhen ch.worksheet_status = 3::character varying then 'Delivered' end as section_ws_status,\ncd.worksheet_status as chap_ws_status\n\nfrom public.school_academy sa\n\n join public.section_master  sm\n on sm.class_id = sa.class_id\n \njoin public.school_class_info sci\n on sm.class_id = sci.class_id\n \n join public.lb_school_details lsd\n on sci.school_id = lsd.school_id\n \n join public.chapter_details_master cdm \n on sa.publication_id = cdm.publication_id and sa.subject_id = cdm.subject_id and sci.std = cdm.std\n \nleft join percentage \non sm.section_id = percentage.section_id and cdm.chapter_tag = percentage.chapter_tag\n\nleft join chapters_handled ch\n on cdm.chapter_tag = ch.chapter_tag and sm.section_id = ch.section_id\n \nleft join content.chapter_dependance cd\non cdm.chapter_tag = cd.chapter_tag\n\n order by sm.section_id,cdm.chapter_tag",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ]
    },
    "executeOnLoad": true,
    "dynamicBindingPathList": [],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "PWS Requirement page_get_overall_status",
  "deleted": false,
  "gitSyncId": "62f1f707b2f8027edfbfef76_6399b70cb5ce0e64b70af90e"
}